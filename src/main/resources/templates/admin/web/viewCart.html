<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{/admin/layout/indexx.html :: dynamic(~{::main})}">

<body>
<main>
    <div class="container" id="men" th:fragment="shopping_cart">
        <section class="row" >
            <div class="col mt-4 ">
                <div class="card">
                    <div class="card-header">
                        <h2>Shopping Cart</h2>
                    </div>
                    <div class="card-body">
                        <table class="table table-striped table-inverse">
                            <thead class="thead-inverse">
                            <tr>
                                <th>Id</th>
                                <th>Name</th>
                                <th>Price</th>
                                <th>Quantity</th>
                                <th>Amount</th>
                                <th></th>
                            </tr>
                            </thead>
                            <tbody>
                            <tr ng-repeat="item in cart.items">
                                <td>{{item.productId}}</td>
                                <td>{{item.name}}</td>
                                <td>${{item.unitPrice | number : 2}}</td>
                                <td><input type="number" ng-change="cart.saveToLocalStorage()"
                                           ng-model="item.qty" min="1"></td>
                                <td>${{item.qty * item.unitPrice | number : 2}}</td>
                                <td>
                                    <a ng-click="cart.remove(item.productId)" class="btn btn-outline-danger"><i
                                            class="fas fa-trash-alt"></i></a>

<!--                                    <a th:data-id="`item.productId`"-->
<!--                                       th:data-name="item.name"-->
<!--                                       onclick="showConfirmModalDialog(this.getAttribute('data-id'),-->
<!--                                           this.getAttribute('data-name'))" class="btn btn-outline-danger"><i-->
<!--                                            class="fas fa-trash-alt"></i></a>-->
                                </td>

                            </tr>
                            </tbody>
                        </table>

<!--                        <script>-->
<!--                            function showConfirmModalDialog(id, name) {-->
<!--                                $('#productName').text(name);-->
<!--                                // $('#yesOption').click().cart.remove(id)-->
<!--                                $('#confirmationId').modal('show');-->
<!--                            }-->
<!--                        </script>-->

<!--                        &lt;!&ndash; Modal &ndash;&gt;-->
<!--                        <div class="modal fade" id="confirmationId" tabindex="-1" role="dialog" aria-labelledby="modelTitleId"-->
<!--                             aria-hidden="true">-->
<!--                            <div class="modal-dialog" role="document">-->
<!--                                <div class="modal-content">-->
<!--                                    <div class="modal-header">-->
<!--                                        <h5 class="modal-title">Confirmation</h5>-->
<!--                                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">-->
<!--                                            <span aria-hidden="true">&times;</span>-->
<!--                                        </button>-->
<!--                                    </div>-->
<!--                                    <div class="modal-body">-->
<!--                                        Do you want to delete? "<span id="productName"></span>"-->
<!--                                    </div>-->
<!--                                    <div class="modal-footer">-->
<!--                                        <a type="button" id="yesOption" class="btn btn-danger">Yes</a>-->
<!--                                        <button type="button" class="btn btn-secondary" data-dismiss="modal">No</button>-->
<!--                                    </div>-->
<!--                                </div>-->
<!--                            </div>-->
<!--                        </div>-->

                        <div class="card-footer text-muted">
                            <button ng-click="cart.clear()" class="btn btn-outline-danger">
                                <i class="fas fa-trash-alt"></i>  Clear
                            </button>
                            <a th:href="@{/order/checkout}" class="btn btn-outline-primary">
                            <i class="fa fa-hand-o-right" aria-hidden="true"></i>  Check out</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</main>
</body>
</html>